# æŠ€è¡“è¦ä»¶æ›¸ï¼šGitHubãƒˆãƒ¬ãƒ³ãƒ‰è‡ªå‹•è¦ç´„ãƒ»æŠ•ç¨¿ã‚·ã‚¹ãƒ†ãƒ 

**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0
**ä½œæˆæ—¥**: 2025-10-06
**æ›´æ–°æ—¥**: 2025-10-06

---

## ğŸ“Œ ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#1-ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼](#2-ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼)
3. [ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ](#3-ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ)
4. [å¤–éƒ¨APIä»•æ§˜](#4-å¤–éƒ¨apiä»•æ§˜)
5. [ãƒ‡ãƒ¼ã‚¿ã‚¹ã‚­ãƒ¼ãƒ](#5-ãƒ‡ãƒ¼ã‚¿ã‚¹ã‚­ãƒ¼ãƒ)
6. [ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦](#6-ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦)
7. [ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ](#7-ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ)
8. [å®‰å…¨ãƒ»æ³•çš„å¯¾ç­–](#8-å®‰å…¨æ³•çš„å¯¾ç­–)
9. [ã‚¨ãƒ©ãƒ¼å‡¦ç†ã¨å†è©¦è¡Œ](#9-ã‚¨ãƒ©ãƒ¼å‡¦ç†ã¨å†è©¦è¡Œ)
10. [ä»Šå¾Œã®æ‹¡å¼µ](#10-ä»Šå¾Œã®æ‹¡å¼µ)
11. [ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶](#11-ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶)
12. [ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶](#12-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶)

---

## 1. ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### 1.1 ç›®çš„

GitHubã®é€±é–“ãƒˆãƒ¬ãƒ³ãƒ‰ãƒªãƒã‚¸ãƒˆãƒªã‚’è‡ªå‹•å–å¾—ã—ã€Anthropic Claude APIã‚’ç”¨ã„ã¦READMEã‚’è‡ªç„¶è¨€èªã§è¦ç´„ãƒ»åˆ†æã€‚ãã®çµæœã‚’Markdownå½¢å¼ã®è¨˜äº‹ã¨ã—ã¦è‡ªå‹•ç”Ÿæˆã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ–ãƒ­ã‚°APIã«ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æŠ•ç¨¿ã™ã‚‹ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚

### 1.2 ä¸»ãªæ©Ÿèƒ½

| åŒºåˆ†      | æ©Ÿèƒ½                     | èª¬æ˜                                         |
| ------- | ---------------------- | ------------------------------------------ |
| **åé›†**  | GitHub Trending å–å¾—     | é€±æ¬¡ï¼ˆæœˆæ›œï¼‰ã«ä¸Šä½18ä»¶ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ—                  |
| **é‡è¤‡æ’é™¤** | éå»DBç…§åˆ                 | ä»¥å‰ã«æŠ•ç¨¿æ¸ˆã¿ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’é™¤å¤–ï¼ˆSHAæ¯”è¼ƒï¼‰                   |
| **è§£æ**  | READMEåé›†ï¼‹Claudeè¦ç´„      | Claudeã«READMEï¼‹ãƒ¡ã‚¿æƒ…å ±ã‚’é€ä¿¡ã—è¨˜äº‹ç”Ÿæˆï¼ˆ1800ã€œ2500å­—ï¼‰    |
| **æŠ•ç¨¿**  | APIçµŒç”±ãƒ–ãƒ­ã‚°æŠ•ç¨¿             | æ¯æœ7æ™‚ï¼ˆJSTï¼‰ã«2ä»¶ãšã¤æŠ•ç¨¿ã€æ—¥æ›œã¯æ®‹ã‚Šã‚’ä¸€æ‹¬æŠ•ç¨¿             |
| **ç®¡ç†**  | ã‚¸ãƒ§ãƒ–ãƒ­ã‚°ï¼DBç®¡ç†             | æŠ•ç¨¿æ¸ˆã¿ãƒ»å¤±æ•—ãƒ»æœªå‡¦ç†ã®ç®¡ç†                             |

### 1.3 å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼

- ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘æŠ€è¡“ãƒ–ãƒ­ã‚°é‹å–¶è€…
- éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å±¤ï¼ˆåŒ»ç™‚ãƒ»æ•™è‚²ãƒ»è¡Œæ”¿ãªã©ï¼‰ã«ã‚‚ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã®ä¾¡å€¤ã‚’ä¼ãˆãŸã„ãƒ¡ãƒ‡ã‚£ã‚¢é‹å–¶è€…
- GitHubæœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å®šæœŸçš„ã«ç™ºä¿¡ã—ãŸã„ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚µãƒ¼

---

## 2. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```plaintext
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           GitHub Actions: Cron Triggerï¼ˆæœˆæ›œ 06:00 JSTï¼‰        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  fetch_trending.py   â”‚
                  â”‚  GitHub Trendingåé›†  â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼ top18.json
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚fetch_readme_meta.py  â”‚
                  â”‚ README + Metaå–å¾—     â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼ articles_raw.json
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚anthropic_generate.py â”‚
                  â”‚  Claudeè¨˜äº‹ç”Ÿæˆ       â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼ articles_ready.json
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  post_scheduler.py   â”‚
                  â”‚   ãƒ–ãƒ­ã‚°APIæŠ•ç¨¿        â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚  Supabase / SQLite   â”‚
                  â”‚  æŠ•ç¨¿ãƒ­ã‚°ãƒ»ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç®¡ç† â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.1 å‡¦ç†ãƒ•ãƒ­ãƒ¼è©³ç´°

#### Phase 1: ãƒˆãƒ¬ãƒ³ãƒ‰åé›†ï¼ˆæœˆæ›œ 06:00 JSTï¼‰

1. **fetch_trending.py**
   - GitHub Trending Weekly (`/trending?since=weekly`) ã‚’HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆ
   - `selectolax`ã§HTMLè§£æã€ä¸Šä½18ä»¶ã®ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±ã‚’æŠ½å‡º
   - `owner/repo` å½¢å¼ã§ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—
   - å‡ºåŠ›: `data/trending_weekly.json`

#### Phase 2: READMEï¼‹ãƒ¡ã‚¿æƒ…å ±å–å¾—

2. **fetch_readme_meta.py**
   - GitHub REST API (`/repos/{owner}/{repo}/readme`) ã§READMEå–å¾—
   - GitHub REST API (`/repos/{owner}/{repo}`) ã§ãƒ¡ã‚¿æƒ…å ±å–å¾—:
     - starsæ•°
     - licenseæƒ…å ±
     - æœ€çµ‚pushæ—¥æ™‚
   - README SHAå€¤ã‚’å–å¾—ï¼ˆé‡è¤‡ãƒã‚§ãƒƒã‚¯ç”¨ï¼‰
   - ä¸¦åˆ—å‡¦ç†ï¼ˆhttpx.AsyncClient, 5ä¸¦åˆ—ï¼‰
   - å‡ºåŠ›: `data/articles_raw.json`

#### Phase 3: Claudeè¨˜äº‹ç”Ÿæˆ

3. **anthropic_generate.py**
   - `articles_raw.json` ã‚’èª­ã¿è¾¼ã¿
   - DBã§é‡è¤‡ãƒã‚§ãƒƒã‚¯ï¼ˆ`owner/repo + SHA`ï¼‰
   - æ–°è¦ã®ã¿Claude APIå‘¼ã³å‡ºã—:
     - ãƒ¢ãƒ‡ãƒ«: `claude-3-5-sonnet-20241022` ã¾ãŸã¯ `claude-3-opus`
     - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ: ã‚·ã‚¹ãƒ†ãƒ æŒ‡ç¤º + ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡ç¤ºï¼ˆè©³ç´°ã¯ [7. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ](#7-ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ)ï¼‰
     - å‡ºåŠ›: Markdownè¨˜äº‹ï¼ˆ1800ã€œ2500å­—ï¼‰
   - è¨˜äº‹æœ«å°¾ã«å‡ºå…¸ãƒ»ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã‚’è‡ªå‹•è¿½è¨˜
   - DBã«ä¿å­˜ï¼ˆ`status = 'pending'`ï¼‰
   - å‡ºåŠ›: `data/articles_ready.json`

#### Phase 4: ãƒ–ãƒ­ã‚°æŠ•ç¨¿

4. **post_scheduler.py**
   - DBã‹ã‚‰ `status = 'pending'` ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
   - å¹³æ—¥: 2ä»¶å–å¾— â†’ ãƒ–ãƒ­ã‚°API POST
   - æ—¥æ›œ18æ™‚: å…¨æœªæŠ•ç¨¿å–å¾— â†’ ä¸€æ‹¬POST
   - æŠ•ç¨¿æˆåŠŸæ™‚: `status = 'success'`, `posted_at` æ›´æ–°
   - æŠ•ç¨¿å¤±æ•—æ™‚: `status = 'failed'`, `error_message` è¨˜éŒ²

---

## 3. ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### 3.1 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼           | æŠ€è¡“                                                   |
| -------------- | ---------------------------------------------------- |
| **è¨€èª**         | Python 3.11+                                         |
| **å®Ÿè¡Œç’°å¢ƒ**       | GitHub Actions / Vercel Cron / Cloud Runï¼ˆé¸æŠå¯ï¼‰       |
| **HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ** | httpx (éåŒæœŸå¯¾å¿œ)                                        |
| **HTMLè§£æ**     | selectolax                                           |
| **ä¸¦åˆ—å‡¦ç†**       | asyncioï¼ˆ5ä¸¦åˆ—ç¨‹åº¦ï¼‰                                       |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**     | SQLite3ï¼ˆè»½é‡é‹ç”¨ï¼‰/ Supabaseï¼ˆã‚¯ãƒ©ã‚¦ãƒ‰é‹ç”¨ï¼‰                     |
| **API**        | GitHub REST API + Anthropic Claude API + Blog REST API |
| **ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†**     | `.env` / GitHub Secrets                              |
| **å‡ºåŠ›å½¢å¼**       | Markdownï¼ˆ1800ã€œ2500å­—ï¼‰                                 |
| **ãƒ­ã‚°**         | æˆåŠŸï¼å¤±æ•—ãƒ­ã‚°ã€å†è©¦è¡Œåˆ¶å¾¡ã€é‡è¤‡åˆ¤å®šï¼ˆSHAã‚­ãƒ¼ï¼‰                           |

### 3.2 ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼é¸æŠè‚¢

| é¸æŠè‚¢                 | ãƒ¡ãƒªãƒƒãƒˆ                  | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ            |
| ------------------- | --------------------- | ---------------- |
| **GitHub Actions**  | ç„¡æ–™æ å……å®Ÿã€Secretsç®¡ç†å®¹æ˜“     | å®Ÿè¡Œæ™‚é–“åˆ¶é™ï¼ˆ6æ™‚é–“ï¼‰      |
| **Vercel Cron**     | Next.jsçµ±åˆã€Edgeå¯¾å¿œ      | ç„¡æ–™æ ã¯1æ—¥1å›ã¾ã§       |
| **Cloud Run + Scheduler** | ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ã€Dockerã‚³ãƒ³ãƒ†ãƒŠå®Ÿè¡Œå¯èƒ½ | GCPèª²é‡‘ç™ºç”Ÿã€è¨­å®šãŒè¤‡é›‘    |

**æ¨å¥¨**: GitHub Actionsï¼ˆæœˆ18è¨˜äº‹ç¨‹åº¦ãªã‚‰ç„¡æ–™æ å†…ã§ååˆ†ï¼‰

### 3.3 ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é¸æŠè‚¢

| é¸æŠè‚¢            | å®Ÿè£…çŠ¶æ³ | ãƒ¡ãƒªãƒƒãƒˆ             | ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ                  |
| -------------- | ---- | ---------------- | ---------------------- |
| **SQLite3**    | âœ… å®Ÿè£…æ¸ˆã¿ | ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ä¸è¦ã€ãƒ­ãƒ¼ã‚«ãƒ«å®Œçµ  | ä¸¦åˆ—æ›¸ãè¾¼ã¿å¼±ã„ã€ã‚¯ãƒ©ã‚¦ãƒ‰å…±æœ‰å›°é›£      |
| **Supabase**   | âŒ æœªå®Ÿè£… | PostgreSQLäº’æ›ã€ç„¡æ–™æ å……å®Ÿ | å¤–éƒ¨ä¾å­˜ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯é…å»¶          |
| **Cloud SQL**  | âŒ æœªå®Ÿè£… | ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ã€é«˜å¯ç”¨æ€§      | èª²é‡‘ã€è¨­å®šè¤‡é›‘                |

**ç¾åœ¨ã®å®Ÿè£…**:
- **SQLite3ã®ã¿å®Ÿè£…æ¸ˆã¿**
- é€±18è¨˜äº‹ç¨‹åº¦ãªã‚‰ååˆ†ãªæ€§èƒ½
- GitHub Artifactsã§7æ—¥é–“ãƒ‡ãƒ¼ã‚¿ä¿æŒï¼ˆé€±æ¬¡ãƒªã‚»ãƒƒãƒˆã§å•é¡Œãªã—ï¼‰

**å°†æ¥ã®æ‹¡å¼µ**:
- ãƒãƒ¼ãƒ é‹ç”¨ãŒå¿…è¦ã«ãªã£ãŸå ´åˆ: Supabaseå¯¾å¿œã‚’è¿½åŠ å®Ÿè£…
- å¤§è¦æ¨¡åŒ–ï¼ˆæ—¥æ¬¡100ä»¶ä»¥ä¸Šï¼‰: Cloud SQLæ¤œè¨

---

## 4. å¤–éƒ¨APIä»•æ§˜

### 4.1 GitHub REST API

#### 4.1.1 READMEå–å¾—

**Endpoint**: `GET /repos/{owner}/{repo}/readme`

**èªè¨¼**: Fine-grained Personal Access Tokenï¼ˆread-onlyï¼‰

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "name": "README.md",
  "path": "README.md",
  "sha": "3d21ec53a331a6f037a91c368710b99387d012c1",
  "content": "IyBBbnRocm9waWMgU0RLCi4uLg==",
  "encoding": "base64"
}
```

**Rate Limit**:
- èªè¨¼æ¸ˆã¿: 5000 req/h
- æœªèªè¨¼: 60 req/h

#### 4.1.2 ãƒªãƒã‚¸ãƒˆãƒªãƒ¡ã‚¿æƒ…å ±å–å¾—

**Endpoint**: `GET /repos/{owner}/{repo}`

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "name": "anthropic-sdk-python",
  "full_name": "anthropics/anthropic-sdk-python",
  "stargazers_count": 12345,
  "license": {
    "key": "mit",
    "name": "MIT License"
  },
  "pushed_at": "2025-09-15T12:34:56Z"
}
```

### 4.2 Anthropic Claude API

#### 4.2.1 ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä½œæˆ

**Endpoint**: `POST https://api.anthropic.com/v1/messages`

**Headers**:
```
x-api-key: {ANTHROPIC_API_KEY}
anthropic-version: 2023-06-01
content-type: application/json
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "model": "claude-3-5-sonnet-20241022",
  "max_tokens": 4096,
  "system": "ã‚ãªãŸã¯å°‚é–€æŠ€è¡“ã¨ç¤¾ä¼šå®Ÿè£…ã®ä¸¡é¢ã‚’ç†è§£ã—ãŸ...",
  "messages": [
    {
      "role": "user",
      "content": "ä»¥ä¸‹ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã®READMEã®å†…å®¹ã‚’è¦ç´„..."
    }
  ]
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "id": "msg_01XFDUDYJgAACzvnptvVbrqX",
  "type": "message",
  "role": "assistant",
  "content": [
    {
      "type": "text",
      "text": "## 1. å°å…¥ï¼ˆèª²é¡Œã¨æ–°ã—ã„ä¸–ç•Œè¦³ï¼‰\n\nè¿‘å¹´ã€æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«ã®..."
    }
  ],
  "model": "claude-3-5-sonnet-20241022",
  "stop_reason": "end_turn",
  "usage": {
    "input_tokens": 1250,
    "output_tokens": 2100
  }
}
```

**Rate Limit**:
- Tier 1: 50 req/min, 40000 tokens/min
- Tier 2: 1000 req/min, 80000 tokens/min

**æ¨å¥¨ãƒ¢ãƒ‡ãƒ«**:
- ã‚³ã‚¹ãƒˆé‡è¦–: `claude-3-5-sonnet-20241022` ($3/1M input tokens, $15/1M output tokens)
- å“è³ªé‡è¦–: `claude-3-opus-20240229` ($15/1M input tokens, $75/1M output tokens)

### 4.3 Blog REST API

#### 4.3.1 è¨˜äº‹æŠ•ç¨¿

**Endpoint**: `POST /api/posts`

**Headers**:
```
Authorization: Bearer {BLOG_API_KEY}
Content-Type: application/json
```

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£**:
```json
{
  "title": "GitHubãƒˆãƒ¬ãƒ³ãƒ‰è§£èª¬ï¼šAIé§†å‹•ã®ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«",
  "slug": "github-trend-ai-code-gen-2025-10-06",
  "content_md": "## 1. å°å…¥ï¼ˆèª²é¡Œã¨æ–°ã—ã„ä¸–ç•Œè¦³ï¼‰\n\n...",
  "tags": ["GitHub", "AI", "Tech", "Code Generation"],
  "status": "published",
  "published_at": "2025-10-06T07:00:00Z"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹**:
```json
{
  "id": 12345,
  "title": "GitHubãƒˆãƒ¬ãƒ³ãƒ‰è§£èª¬ï¼šAIé§†å‹•ã®ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«",
  "slug": "github-trend-ai-code-gen-2025-10-06",
  "url": "https://yourblog.com/posts/github-trend-ai-code-gen-2025-10-06",
  "status": "published"
}
```

---

## 5. ãƒ‡ãƒ¼ã‚¿ã‚¹ã‚­ãƒ¼ãƒ

### 5.1 articlesãƒ†ãƒ¼ãƒ–ãƒ«

| ã‚«ãƒ©ãƒ å           | å‹         | åˆ¶ç´„             | èª¬æ˜                          |
| -------------- | --------- | -------------- | --------------------------- |
| id             | INTEGER   | PRIMARY KEY    | è‡ªå‹•æ¡ç•ªID                      |
| week_key       | TEXT      | NOT NULL       | é€±ã‚­ãƒ¼ï¼ˆä¾‹ï¼š`2025-W41`ï¼‰          |
| owner          | TEXT      | NOT NULL       | ãƒªãƒã‚¸ãƒˆãƒªã‚ªãƒ¼ãƒŠãƒ¼                   |
| repo           | TEXT      | NOT NULL       | ãƒªãƒã‚¸ãƒˆãƒªå                      |
| sha            | TEXT      | NOT NULL       | READMEã®SHAï¼ˆé‡è¤‡ãƒã‚§ãƒƒã‚¯ç”¨ï¼‰         |
| stars          | INTEGER   | -              | Staræ•°                       |
| license        | TEXT      | -              | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç¨®åˆ¥                     |
| last_push      | TIMESTAMP | -              | æœ€çµ‚pushæ—¥æ™‚                    |
| readme_content | TEXT      | -              | READMEæœ¬æ–‡ï¼ˆBase64ãƒ‡ã‚³ãƒ¼ãƒ‰æ¸ˆã¿ï¼‰      |
| markdown       | TEXT      | NOT NULL       | ç”Ÿæˆè¨˜äº‹ï¼ˆMarkdownï¼‰              |
| status         | TEXT      | NOT NULL       | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆpending/success/failedï¼‰ |
| error_message  | TEXT      | -              | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼ˆå¤±æ•—æ™‚ï¼‰               |
| created_at     | TIMESTAMP | DEFAULT NOW()  | ãƒ¬ã‚³ãƒ¼ãƒ‰ä½œæˆæ—¥æ™‚                    |
| posted_at      | TIMESTAMP | -              | æŠ•ç¨¿æ—¥æ™‚                        |

**Unique Constraint**: `(owner, repo, sha)`

### 5.2 SQLå®šç¾©ï¼ˆSQLite / PostgreSQLå…±é€šï¼‰

```sql
CREATE TABLE IF NOT EXISTS articles (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    week_key TEXT NOT NULL,
    owner TEXT NOT NULL,
    repo TEXT NOT NULL,
    sha TEXT NOT NULL,
    stars INTEGER,
    license TEXT,
    last_push TIMESTAMP,
    readme_content TEXT,
    markdown TEXT NOT NULL,
    status TEXT NOT NULL CHECK(status IN ('pending', 'success', 'failed')),
    error_message TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    posted_at TIMESTAMP,
    UNIQUE(owner, repo, sha)
);

CREATE INDEX idx_status ON articles(status);
CREATE INDEX idx_week_key ON articles(week_key);
CREATE INDEX idx_posted_at ON articles(posted_at);
```

---

## 6. ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ¦‚è¦

| æ™‚åˆ»             | ãƒˆãƒªã‚¬ãƒ¼                      | å‹•ä½œå†…å®¹                   | ã‚¹ã‚¯ãƒªãƒ—ãƒˆ                       |
| -------------- | ------------------------- | ---------------------- | --------------------------- |
| **æœˆæ›œ 06:00 JST** | GitHub Actions Cron       | ãƒˆãƒ¬ãƒ³ãƒ‰åé›† â†’ è¨˜äº‹ç”Ÿæˆ          | `fetch_trending.py` ã€œ `anthropic_generate.py` |
| **æœˆã€œæ—¥ 07:00 JST** | GitHub Actions Cronï¼ˆæ¯æ—¥ï¼‰    | æœªæŠ•ç¨¿è¨˜äº‹2ä»¶ã‚’APIæŠ•ç¨¿          | `post_scheduler.py --limit 2` |
| **æ—¥æ›œ 18:00 JST** | GitHub Actions Cron       | æœªæŠ•ç¨¿è¨˜äº‹ã‚’ã™ã¹ã¦ä¸€æ‹¬æŠ•ç¨¿          | `post_scheduler.py --bulk`  |
| **éšæ™‚**         | GitHub Actionsï¼ˆæ‰‹å‹•/å¤±æ•—æ™‚å†å®Ÿè¡Œï¼‰ | å¤±æ•—è¨˜äº‹ã‚’å†è©¦è¡Œ               | `post_scheduler.py --retry` |

### 6.1 Cronå¼ï¼ˆUTCåŸºæº–ï¼‰

| ã‚¿ã‚¤ãƒŸãƒ³ã‚°       | Cronå¼            | èª¬æ˜                        |
| ----------- | ---------------- | ------------------------- |
| æœˆæ›œ 06:00 JST | `0 21 * * 0`     | æ—¥æ›œ 21:00 UTCï¼ˆæœˆæ›œ 06:00 JSTï¼‰ |
| æ¯æœ 07:00 JST | `0 22 * * *`     | æ¯æ—¥ 22:00 UTCï¼ˆç¿Œæœ 07:00 JSTï¼‰ |
| æ—¥æ›œ 18:00 JST | `0 9 * * 0`      | æ—¥æ›œ 09:00 UTCï¼ˆ18:00 JSTï¼‰   |

---

## 7. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ

### 7.1 ã‚·ã‚¹ãƒ†ãƒ æŒ‡ç¤ºï¼ˆSystem Instructionï¼‰

```python
SYSTEM_INSTRUCTION = """ã‚ãªãŸã¯å°‚é–€æŠ€è¡“ã¨ç¤¾ä¼šå®Ÿè£…ã®ä¸¡é¢ã‚’ç†è§£ã—ãŸã€ãƒ†ãƒƒã‚¯ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚GitHubã®READMEã‚’ã‚‚ã¨ã«ã€å°‚é–€å®¶ã¨éå°‚é–€å®¶ã®ä¸¡æ–¹ã«ä¼ã‚ã‚‹è§£èª¬è¨˜äº‹ã‚’åŸ·ç­†ã—ã¦ãã ã•ã„ã€‚

ã€ãƒˆãƒ¼ãƒ³ã€‘
- ä¸­ç«‹çš„ã§çŸ¥çš„ã€å®Ÿç”¨çš„ã§ã‚ã‚ŠãªãŒã‚‰è¦ªã—ã¿ã‚„ã™ã„
- å°‚é–€ç”¨èªã®ç¾…åˆ—ã‚’é¿ã‘ã€ã‚ã‹ã‚Šã‚„ã™ã„æ¯”å–©ã‚„æ®µéšçš„èª¬æ˜ã‚’ç”¨ã„ã‚‹
- åŒ»ç™‚ãƒ»æ•™è‚²ãªã©ã€éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å±¤ã«ã‚‚æŠ€è¡“çš„ä¾¡å€¤ãŒä¼ã‚ã‚‹è¡¨ç¾ã‚’å¿ƒãŒã‘ã‚‹
- å®£ä¼å£èª¿ã‚„æŠ½è±¡çš„ãªè¡¨ç¾ã‚’é¿ã‘ã‚‹

ã€å‡ºåŠ›å½¢å¼ã€‘
- Markdownå½¢å¼
- æ–‡å­—æ•°ï¼š1800ã€œ2500å­—ç¨‹åº¦
- è¦‹å‡ºã—ã¯H2ï¼ˆ##ï¼‰ã€œH3ï¼ˆ###ï¼‰ã‚’ä½¿ç”¨
- ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ã‚„è¡¨ã‚’é©å®œæ´»ç”¨

ã€ã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã€‘
- é¿ã‘ã‚‹ã¹ãè¡¨ç¾ï¼šå°‚é–€ç”¨èªã®ç¾…åˆ—ã€æŠ½è±¡çš„ãªè¡¨ç¾ã€å®£ä¼å£èª¿
- æ¨å¥¨ã™ã‚‹è¡¨ç¾ï¼šã‚ã‹ã‚Šã‚„ã™ã„æ¯”å–©ã€æ®µéšçš„èª¬æ˜ã€ç¤¾ä¼šçš„ãƒ»åŒ»ç™‚çš„å¿œç”¨ä¾‹ã®æç¤º
"""
```

### 7.2 ãƒ¦ãƒ¼ã‚¶ãƒ¼æŒ‡ç¤ºãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆUser Instruction Templateï¼‰

```python
USER_INSTRUCTION_TEMPLATE = """ä»¥ä¸‹ã®GitHubãƒªãƒã‚¸ãƒˆãƒªã®READMEã®å†…å®¹ã‚’è¦ç´„ãƒ»åˆ†æã—ã¦ã€åŒ»ç™‚ãƒ»æ•™è‚²ãªã©éã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å±¤ã«ã‚‚ä¼ã‚ã‚‹æ§‹æˆã®è¨˜äº‹ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

ã€ãƒªãƒã‚¸ãƒˆãƒªæƒ…å ±ã€‘
- ãƒªãƒã‚¸ãƒˆãƒªå: {owner}/{repo}
- Stars: {stars:,}
- ãƒ©ã‚¤ã‚»ãƒ³ã‚¹: {license}
- æœ€çµ‚æ›´æ–°: {last_push}
- URL: https://github.com/{owner}/{repo}

ã€READMEå†…å®¹ã€‘
```markdown
{readme_content}
```

ã€è¨˜äº‹ä½œæˆè¦ä»¶ã€‘
1. å†’é ­ã§ã©ã‚“ãªãƒ„ãƒ¼ãƒ«ã‹ï¼ã©ã‚“ãªæ–°ã—ã•ãŒã‚ã‚‹ã‹ï¼ãã‚ŒãŒã©ã‚“ãªæœªæ¥ã‚’é–‹ãã‹ã‚’å°‚é–€ç”¨èªãªã—ã§200ã€œ300å­—ã§èª¬æ˜ã™ã‚‹
2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ï¼ˆãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±å«ã‚€ï¼‰ã‚’ç°¡æ½”ã«ã¾ã¨ã‚ã‚‹
3. ã“ã‚Œã¾ã§ã«ãªã‹ã£ãŸæ–°è¦æ€§ã‚’3ã€œ4ç‚¹ã€å…·ä½“çš„ã«èª¬æ˜ã™ã‚‹
4. æŠ€è¡“æ§‹æˆï¼ˆã‚¹ã‚¿ãƒƒã‚¯ã‚„å‡¦ç†ãƒ•ãƒ­ãƒ¼ï¼‰ã‚’è¡¨ã¾ãŸã¯ç®‡æ¡æ›¸ãã§ç¤ºã™
5. åŒ»ç™‚ãƒ»æ•™è‚²ãƒ»è¡Œæ”¿ãªã©å¿œç”¨åˆ†é‡ã‚’3é ˜åŸŸä»¥ä¸Šä¾‹ç¤ºã™ã‚‹
6. ä»Šå¾Œã®ç™ºå±•ãƒ»ç¤¾ä¼šçš„ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆã‚’å±•æœ›ã™ã‚‹
7. å¿…ãšæœ€å¾Œã«å…¬å¼GitHubãƒªãƒ³ã‚¯ã‚’Markdownã§æ²è¼‰ã™ã‚‹

ã€å‡ºåŠ›æ§‹æˆã€‘
## 1. å°å…¥ï¼ˆèª²é¡Œã¨æ–°ã—ã„ä¸–ç•Œè¦³ï¼‰
## 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
## 3. æ–°è¦æ€§ã¨é©æ–°ãƒã‚¤ãƒ³ãƒˆ
## 4. æŠ€è¡“æ§‹æˆ
## 5. å¿œç”¨å¯èƒ½æ€§ï¼ˆåŒ»ç™‚ãƒ»æ•™è‚²ãƒ»è¡Œæ”¿ãªã©ï¼‰
## 6. ä»Šå¾Œã®å±•æœ›
## 7. ã¾ã¨ã‚ã¨GitHubãƒªãƒ³ã‚¯

ã€æ³¨æ„äº‹é …ã€‘
- READMEå…¨æ–‡ã‚’ãã®ã¾ã¾è»¢è¼‰ã—ãªã„ã“ã¨
- æŠ€è¡“çš„æ­£ç¢ºæ€§ã‚’ä¿ã¡ã¤ã¤ã€éå°‚é–€å®¶ã«ã‚‚ç†è§£ã§ãã‚‹è¡¨ç¾ã‚’ä½¿ç”¨
- è¨˜äº‹æœ«å°¾ã«å¿…ãšå‡ºå…¸ã¨ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ã‚’æ˜è¨˜
"""
```

### 7.3 å¤‰æ•°ç½®æ›ãƒ­ã‚¸ãƒƒã‚¯

```python
def format_user_instruction(owner: str, repo: str, stars: int, license: str,
                             last_push: str, readme_content: str) -> str:
    # READMEé•·ã™ãã‚‹å ´åˆã¯åˆ¶é™
    MAX_README_LENGTH = 8000
    if len(readme_content) > MAX_README_LENGTH:
        readme_content = readme_content[:MAX_README_LENGTH] + "\n\n... (ä»¥ä¸‹çœç•¥)"

    return USER_INSTRUCTION_TEMPLATE.format(
        owner=owner,
        repo=repo,
        stars=stars,
        license=license or "ä¸æ˜",
        last_push=last_push,
        readme_content=readme_content
    )
```

è©³ç´°ã¯ [`CLAUDE_PROMPT.md`](CLAUDE_PROMPT.md) ã‚’å‚ç…§ã€‚

---

## 8. å®‰å…¨ãƒ»æ³•çš„å¯¾ç­–

### 8.1 è‘—ä½œæ¨©å¯¾ç­–

| å¯¾ç­–              | å†…å®¹                                              |
| --------------- | ----------------------------------------------- |
| **READMEå…¨æ–‡è»¢è¼‰ç¦æ­¢** | AIè¦ç´„çµæœã®ã¿å…¬é–‹ã€‚å…ƒREADMEã¯å¼•ç”¨ãƒ¬ãƒ™ãƒ«ã«ç•™ã‚ã‚‹                  |
| **å‡ºå…¸æ˜è¨˜**        | å„è¨˜äº‹æœ«å°¾ã«ä»¥ä¸‹ã‚’è‡ªå‹•è¿½è¨˜ï¼š                                  |

```markdown
---

**å‡ºå…¸**: [GitHub - {owner}/{repo}](https://github.com/{owner}/{repo})
æœ¬è¨˜äº‹ã¯å…¬é–‹æƒ…å ±ã‚’ã‚‚ã¨ã«AIãŒè‡ªå‹•ç”Ÿæˆã—ãŸè¦ç´„ã§ã™ã€‚
ãƒ©ã‚¤ã‚»ãƒ³ã‚¹: {license}ï¼ˆãƒªãƒã‚¸ãƒˆãƒªã«æº–æ‹ ï¼‰
```

### 8.2 ãƒ©ã‚¤ã‚»ãƒ³ã‚¹éµå®ˆ

- MIT/Apache/GPLãªã©ã€å„ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’ãƒ¡ã‚¿æƒ…å ±ã§å–å¾—
- è¨˜äº‹æœ«å°¾ã«è‡ªå‹•è¨˜è¼‰ã—ã€ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ¡ä»¶ã‚’æ˜ç¤º
- ã‚³ãƒ”ãƒ¼ãƒ¬ãƒ•ãƒˆãƒ©ã‚¤ã‚»ãƒ³ã‚¹ï¼ˆGPLç­‰ï¼‰ã®å ´åˆã€è¨˜äº‹ã«ãã®æ—¨ã‚’æ˜è¨˜

### 8.3 ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·

- å€‹äººæƒ…å ±ã‚’å«ã‚€READMEï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ç­‰ï¼‰ã¯ã€Claudeç”Ÿæˆæ™‚ã«è‡ªå‹•é™¤å¤–ã™ã‚‹ã‚ˆã†æŒ‡ç¤º
- æ©Ÿå¯†æƒ…å ±æ¤œå‡ºï¼šæ­£è¦è¡¨ç¾ã§API Keyã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç­‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ãƒã‚§ãƒƒã‚¯

```python
import re

SENSITIVE_PATTERNS = [
    r'sk-[a-zA-Z0-9]{32,}',  # API Key
    r'ghp_[a-zA-Z0-9]{36,}',  # GitHub PAT
    r'password\s*[:=]\s*\S+',  # ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
]

def sanitize_readme(content: str) -> str:
    for pattern in SENSITIVE_PATTERNS:
        content = re.sub(pattern, '[REDACTED]', content, flags=re.IGNORECASE)
    return content
```

---

## 9. ã‚¨ãƒ©ãƒ¼å‡¦ç†ã¨å†è©¦è¡Œ

### 9.1 ã‚¨ãƒ©ãƒ¼åˆ†é¡ã¨å¯¾å¿œ

| ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥                    | HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | å¯¾å¿œç­–                         |
| ------------------------ | ---------- | --------------------------- |
| **GitHub API Rate Limit** | 403        | 60åˆ†å¾…æ©Ÿ or ãƒˆãƒ¼ã‚¯ãƒ³ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³        |
| **GitHub API Not Found** | 404        | ãƒ­ã‚°è¨˜éŒ²ã€ã‚¹ã‚­ãƒƒãƒ—                   |
| **Claude API Timeout**   | 524        | 3å›å†è©¦è¡Œï¼ˆæŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•: 1s, 2s, 4sï¼‰ |
| **Claude API Rate Limit** | 429        | 60ç§’å¾…æ©Ÿå¾Œå†è©¦è¡Œ                   |
| **æŠ•ç¨¿API ã‚¨ãƒ©ãƒ¼**            | 4xx/5xx    | `status = 'failed'` ä¿å­˜ã€ç¿Œæ—¥å†è©¦è¡Œ |
| **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¤±æ•—**             | -          | 3å›å†è©¦è¡Œã€å¤±æ•—æ™‚ãƒ­ã‚°ä¿å­˜               |

### 9.2 ãƒªãƒˆãƒ©ã‚¤å®Ÿè£…ä¾‹

```python
import time
import httpx
from anthropic import Anthropic, RateLimitError, APITimeoutError

async def fetch_with_retry(url: str, headers: dict, max_retries: int = 3):
    async with httpx.AsyncClient() as client:
        for attempt in range(max_retries):
            try:
                response = await client.get(url, headers=headers, timeout=10.0)
                response.raise_for_status()
                return response.json()
            except httpx.HTTPStatusError as e:
                if e.response.status_code == 403:
                    print(f"Rate limit hit, sleeping 60s...")
                    await asyncio.sleep(60)
                elif attempt < max_retries - 1:
                    wait_time = 2 ** attempt
                    await asyncio.sleep(wait_time)
                else:
                    raise
            except httpx.RequestError as e:
                if attempt < max_retries - 1:
                    wait_time = 2 ** attempt
                    await asyncio.sleep(wait_time)
                else:
                    raise

def generate_with_retry(client: Anthropic, system: str, user: str, max_retries: int = 3):
    for attempt in range(max_retries):
        try:
            message = client.messages.create(
                model="claude-3-5-sonnet-20241022",
                max_tokens=4096,
                system=system,
                messages=[{"role": "user", "content": user}]
            )
            return message.content[0].text
        except (RateLimitError, APITimeoutError) as e:
            if attempt < max_retries - 1:
                wait_time = 2 ** attempt
                print(f"Retry {attempt+1}/{max_retries} after {wait_time}s...")
                time.sleep(wait_time)
            else:
                raise
```

### 9.3 å¤±æ•—æ™‚ã®è¨˜éŒ²

æŠ•ç¨¿å¤±æ•—æ™‚ã¯ã€`articles`ãƒ†ãƒ¼ãƒ–ãƒ«ã«ä»¥ä¸‹ã‚’è¨˜éŒ²ï¼š

```sql
UPDATE articles
SET status = 'failed',
    error_message = 'HTTP 500: Internal Server Error'
WHERE id = ?;
```

ç¿Œæ—¥ã®`post_scheduler.py`å®Ÿè¡Œæ™‚ã«ã€`status = 'failed'`ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’å†è©¦è¡Œã€‚

---

## 10. ä»Šå¾Œã®æ‹¡å¼µ

### 10.1 çŸ­æœŸï¼ˆ1ã€œ3ãƒ¶æœˆï¼‰

| æ©Ÿèƒ½                  | å†…å®¹                                       |
| ------------------- | ---------------------------------------- |
| **è‡ªå‹•ã‚¿ã‚°åˆ†é¡**          | Claudeã«AI/Infra/Web/Medicalãªã©ã®ã‚¿ã‚°ã‚’ç”Ÿæˆã•ã›ã‚‹   |
| **ã‚µãƒ ãƒã‚¤ãƒ«è‡ªå‹•ç”Ÿæˆ**       | Claudeå‡ºåŠ›ã‚¿ã‚¤ãƒˆãƒ« + DALL-E/Stable Diffusionã§ç”»åƒç”Ÿæˆ |
| **æŠ•ç¨¿æ™‚åˆ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**      | æ›œæ—¥åˆ¥ã«æŠ•ç¨¿æ™‚åˆ»ã‚’å¤‰æ›´å¯èƒ½ã«ã™ã‚‹                         |
| **Discord/Slacké€šçŸ¥**  | è¨˜äº‹ç”Ÿæˆå®Œäº†ãƒ»æŠ•ç¨¿æˆåŠŸæ™‚ã«é€šçŸ¥                          |

### 10.2 ä¸­æœŸï¼ˆ3ã€œ6ãƒ¶æœˆï¼‰

| æ©Ÿèƒ½            | å†…å®¹                                |
| ------------- | --------------------------------- |
| **æœˆé–“ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–è¨˜äº‹**   | æœˆæœ«ã«è‡ªå‹•ã§æœˆé–“ãƒˆãƒ¬ãƒ³ãƒ‰ã¾ã¨ã‚è¨˜äº‹ã‚’ç”Ÿæˆ              |
| **å¤šè¨€èªå¯¾å¿œ**       | READMEè‹±èª â†’ æ—¥æœ¬èªè¨˜äº‹ã€æ—¥æœ¬èªREADME â†’ è‹±èªè¨˜äº‹ |
| **A/Bãƒ†ã‚¹ãƒˆ**      | ç•°ãªã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§2ãƒ‘ã‚¿ãƒ¼ãƒ³ç”Ÿæˆã—ã€ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆé«˜ã„æ–¹ã‚’æŠ•ç¨¿ |
| **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯** | è¨˜äº‹ã«ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã‚’è¨­ã‘ã€æ”¹å–„æ¡ˆã‚’Claudeå­¦ç¿’ã«åæ˜        |

### 10.3 é•·æœŸï¼ˆ6ãƒ¶æœˆã€œ1å¹´ï¼‰

| æ©Ÿèƒ½          | å†…å®¹                            |
| ----------- | ----------------------------- |
| **å‹•ç”»è¦ç´„å¯¾å¿œ**    | YouTubeãƒ‡ãƒ¢å‹•ç”»ã‚’Whisperæ–‡å­—èµ·ã“ã—â†’è¦ç´„   |
| **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æŠ•ç¨¿**  | GitHub Releaseå³åº§ã«æ¤œçŸ¥â†’è¨˜äº‹ç”Ÿæˆâ†’æŠ•ç¨¿   |
| **ã‚«ã‚¹ã‚¿ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** | Streamlitã§è¨˜äº‹ä¸€è¦§ãƒ»çµ±è¨ˆãƒ»ç·¨é›†UIæ§‹ç¯‰      |
| **ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ** | Mediumã€Zennã€QiitaåŒæ™‚æŠ•ç¨¿           |

---

## 11. ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

### 11.1 ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢è¦ä»¶

| é …ç›®           | æœ€å°ãƒãƒ¼ã‚¸ãƒ§ãƒ³       | æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³        |
| ------------ | ------------- | -------------- |
| **Python**   | 3.11          | 3.11ä»¥ä¸Š         |
| **httpx**    | 0.24.0        | æœ€æ–°ç‰ˆ            |
| **selectolax** | 0.3.16        | æœ€æ–°ç‰ˆ            |
| **anthropic** | 0.21.0        | æœ€æ–°ç‰ˆ            |
| **SQLite**   | 3.35          | 3.40ä»¥ä¸Š         |

### 11.2 ãƒãƒ¼ãƒ‰ã‚¦ã‚§ã‚¢è¦ä»¶

| ç’°å¢ƒ            | CPU    | ãƒ¡ãƒ¢ãƒª  | ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ |
| ------------- | ------ | ---- | ----- |
| **ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º**    | 1 core | 1GB  | 500MB |
| **GitHub Actions** | 2 core | 7GB  | 14GB  |
| **Cloud Run**  | 1 core | 512MB | 1GB   |

### 11.3 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¦ä»¶

- **å¤–éƒ¨APIæ¥ç¶š**: å¿…é ˆï¼ˆGitHub, Anthropic, Blog APIï¼‰
- **æœ€å°å¸¯åŸŸå¹…**: 1 Mbps
- **æ¨å¥¨å¸¯åŸŸå¹…**: 10 Mbpsä»¥ä¸Šï¼ˆä¸¦åˆ—å‡¦ç†æ™‚ï¼‰

---

## 12. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶

### 12.1 èªè¨¼æƒ…å ±ç®¡ç†

| é …ç›®                       | ä¿å­˜å ´æ‰€               | æš—å·åŒ–   |
| ------------------------ | ------------------ | ----- |
| **GitHub PAT**           | `.env` / GitHub Secrets | -     |
| **Anthropic API Key**    | `.env` / GitHub Secrets | -     |
| **Blog API Key**         | `.env` / GitHub Secrets | -     |
| **Supabase Credentials** | `.env` / GitHub Secrets | -     |

**æ³¨æ„**: `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã¯`.gitignore`ã«å¿…ãšè¿½åŠ 

### 12.2 ãƒ‡ãƒ¼ã‚¿ä¿è­·

- **DBæš—å·åŒ–**: SQLiteãƒ•ã‚¡ã‚¤ãƒ«ã¯OSæ¨™æº–ã®æš—å·åŒ–ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
- **é€šä¿¡æš—å·åŒ–**: å…¨APIé€šä¿¡ã¯HTTPS/TLS 1.2ä»¥ä¸Š
- **ãƒ­ã‚°ãƒã‚¹ã‚­ãƒ³ã‚°**: API Keyã¯ãƒ­ã‚°ã«å‡ºåŠ›ã—ãªã„

```python
import logging

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

# NGãƒ‘ã‚¿ãƒ¼ãƒ³
logger.info(f"API Key: {api_key}")

# OKãƒ‘ã‚¿ãƒ¼ãƒ³
logger.info("API Key loaded successfully")
```

### 12.3 è„†å¼±æ€§å¯¾ç­–

| å¯¾ç­–             | å†…å®¹                        |
| -------------- | ------------------------- |
| **ä¾å­˜é–¢ä¿‚ã‚¹ã‚­ãƒ£ãƒ³**    | `pip-audit`ã§è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯       |
| **Secretsæ¤œå‡º**   | `truffleHog`ã§Gitå±¥æ­´ã‚¹ã‚­ãƒ£ãƒ³    |
| **å…¥åŠ›ã‚µãƒ‹ã‚¿ã‚¤ã‚º**     | READMEå†…ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¿ã‚°é™¤å»        |
| **å‡ºåŠ›ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—**     | Markdownç”Ÿæˆæ™‚ã«XSSå¯¾ç­–         |

---

## 13. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶

### 13.1 å‡¦ç†æ™‚é–“ç›®æ¨™

| ãƒ•ã‚§ãƒ¼ã‚º         | ç›®æ¨™æ™‚é–“       | æœ€å¤§è¨±å®¹æ™‚é–“    |
| ------------ | ---------- | --------- |
| **ãƒˆãƒ¬ãƒ³ãƒ‰åé›†**   | 10ç§’ä»¥å†…      | 30ç§’       |
| **READMEå–å¾—**  | 30ç§’ä»¥å†…ï¼ˆ18ä»¶ï¼‰ | 60ç§’       |
| **Claudeè¨˜äº‹ç”Ÿæˆ** | 60ç§’ä»¥å†…ï¼ˆ18ä»¶ï¼‰ | 180ç§’      |
| **ãƒ–ãƒ­ã‚°æŠ•ç¨¿**     | 5ç§’ä»¥å†…ï¼ˆ2ä»¶ï¼‰   | 15ç§’       |

### 13.2 ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Šï¼ˆæœˆé–“ï¼‰

| é …ç›®                  | å˜ä¾¡                                    | æœˆé–“ä½¿ç”¨é‡        | æœˆé¡ã‚³ã‚¹ãƒˆ  |
| ------------------- | ------------------------------------- | ------------ | ------ |
| **GitHub API**      | ç„¡æ–™ï¼ˆ5000 req/hï¼‰                        | 72 req/æœˆ     | $0     |
| **Claude API**      | Input $3/1M, Output $15/1M            | 18è¨˜äº‹ Ã— 3000 tokens | $0.81  |
| **GitHub Actions**  | ç„¡æ–™ï¼ˆ2000åˆ†/æœˆï¼‰                           | 90åˆ†/æœˆ        | $0     |
| **Supabaseï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰** | ç„¡æ–™ï¼ˆ500MBï¼‰                             | 100MB/æœˆ      | $0     |
| **åˆè¨ˆ**              | -                                     | -            | **$0.81** |

**å¹´é–“ã‚³ã‚¹ãƒˆ**: ç´„ $10

---

## 14. ãƒ†ã‚¹ãƒˆè¦ä»¶

### 14.1 ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

```bash
pytest tests/
```

**ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: 80%ä»¥ä¸Š

### 14.2 çµ±åˆãƒ†ã‚¹ãƒˆ

- ãƒ¢ãƒƒã‚¯APIã‚’ä½¿ç”¨ã—ãŸE2Eãƒ†ã‚¹ãƒˆ
- GitHub Actionsä¸Šã§ã®è‡ªå‹•å®Ÿè¡Œ

### 14.3 ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¾‹

```python
# tests/test_anthropic_generate.py
import pytest
from scripts.anthropic_generate import generate_article

def test_generate_article_success(mock_anthropic_client):
    article = generate_article(
        owner="test",
        repo="test-repo",
        stars=1000,
        license="MIT",
        last_push="2025-09-01",
        readme_content="# Test README"
    )

    assert len(article) >= 1800
    assert "## 1. å°å…¥" in article
    assert "GitHub - test/test-repo" in article
```

---

## 15. é‹ç”¨ãƒ»ç›£è¦–

### 15.1 ç›£è¦–é …ç›®

| é …ç›®            | ç›£è¦–æ–¹æ³•                     | ã‚¢ãƒ©ãƒ¼ãƒˆæ¡ä»¶         |
| ------------- | ------------------------ | -------------- |
| **APIæˆåŠŸç‡**     | DB `status = 'success'` é›†è¨ˆ | æˆåŠŸç‡ < 80%     |
| **è¨˜äº‹ç”Ÿæˆæ™‚é–“**    | ãƒ­ã‚°è§£æ                     | å¹³å‡æ™‚é–“ > 90ç§’    |
| **æŠ•ç¨¿å¤±æ•—æ•°**     | DB `status = 'failed'` é›†è¨ˆ  | é€£ç¶š3å›å¤±æ•—        |
| **GitHub Actionså®Ÿè¡Œæ™‚é–“** | Actions UI               | å®Ÿè¡Œæ™‚é–“ > 10åˆ†    |

### 15.2 ãƒ­ã‚°å‡ºåŠ›

```python
import logging
from datetime import datetime

logging.basicConfig(
    filename=f"logs/{datetime.now().strftime('%Y%m%d')}.log",
    level=logging.INFO,
    format='%(asctime)s [%(levelname)s] %(message)s'
)

logger = logging.getLogger(__name__)

# ä½¿ç”¨ä¾‹
logger.info(f"Article generated: {owner}/{repo}")
logger.error(f"Failed to post article: {error_message}")
```

### 15.3 ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æˆ¦ç•¥

- **DB**: æ¯é€±æ—¥æ›œã«SQLiteãƒ•ã‚¡ã‚¤ãƒ«ã‚’GitHub Artifactsã«ä¿å­˜
- **è¨˜äº‹ãƒ‡ãƒ¼ã‚¿**: `data/*.json`ã‚’S3/Google Driveã«è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—

---

## 16. ãƒªãƒªãƒ¼ã‚¹è¨ˆç”»

### Phase 1: MVPï¼ˆ2é€±é–“ï¼‰

- [x] ãƒˆãƒ¬ãƒ³ãƒ‰åé›†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- [x] READMEå–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- [x] Claudeè¨˜äº‹ç”Ÿæˆï¼ˆåŸºæœ¬ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰
- [x] SQLite DBæ§‹ç¯‰
- [x] ãƒ–ãƒ­ã‚°APIæŠ•ç¨¿ï¼ˆæ‰‹å‹•å®Ÿè¡Œï¼‰

### Phase 2: è‡ªå‹•åŒ–ï¼ˆ2é€±é–“ï¼‰

- [ ] GitHub Actionsè¨­å®š
- [ ] ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æŠ•ç¨¿æ©Ÿèƒ½
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ãƒªãƒˆãƒ©ã‚¤
- [ ] ãƒ­ã‚°ãƒ»ç›£è¦–æ©Ÿèƒ½

### Phase 3: å“è³ªå‘ä¸Šï¼ˆ1é€±é–“ï¼‰

- [ ] ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæœ€é©åŒ–
- [ ] è¨˜äº‹å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†

### Phase 4: æ‹¡å¼µæ©Ÿèƒ½ï¼ˆç¶™ç¶šï¼‰

- [ ] ã‚¿ã‚°è‡ªå‹•åˆ†é¡
- [ ] ã‚µãƒ ãƒã‚¤ãƒ«ç”Ÿæˆ
- [ ] å¤šè¨€èªå¯¾å¿œ

---

## 17. FAQ

### Q1. ç„¡æ–™ã§é‹ç”¨ã§ãã¾ã™ã‹?

**A**: ã¯ã„ã€ä»¥ä¸‹ã®ç„¡æ–™æ å†…ã§é‹ç”¨å¯èƒ½ã§ã™ï¼š
- GitHub Actions: 2000åˆ†/æœˆï¼ˆãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªã¯ç„¡åˆ¶é™ï¼‰
- Anthropic Claude: å¾“é‡èª²é‡‘ï¼ˆæœˆ$1ç¨‹åº¦ï¼‰
- Supabase: 500MB/æœˆï¼ˆç„¡æ–™æ ï¼‰

### Q2. ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚‚å¯¾è±¡ã«ã§ãã¾ã™ã‹?

**A**: GitHub APIã®ä»•æ§˜ä¸Šã€èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã«æ¨©é™ãŒã‚ã‚Œã°ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã‚‚å–å¾—å¯èƒ½ã§ã™ã€‚ãŸã ã—ã€è¨˜äº‹å…¬é–‹æ™‚ã®æ³•çš„å•é¡Œã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚

### Q3. è¨˜äº‹ã®å“è³ªã‚’æ”¹å–„ã™ã‚‹ã«ã¯?

**A**: `CLAUDE_PROMPT.md` ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç·¨é›†ã—ã¦ãã ã•ã„ã€‚ç‰¹ã« `USER_INSTRUCTION_TEMPLATE` ã®ã€Œè¨˜äº‹ä½œæˆè¦ä»¶ã€ã‚’èª¿æ•´ã™ã‚‹ã¨åŠ¹æœçš„ã§ã™ã€‚

### Q4. æŠ•ç¨¿é »åº¦ã‚’å¤‰æ›´ã™ã‚‹ã«ã¯?

**A**: `.github/workflows/trend_cron.yml` ã®cronè¨­å®šã‚’å¤‰æ›´ã—ã¦ãã ã•ã„ã€‚

---

## 18. å‚è€ƒè³‡æ–™

- [GitHub REST API Documentation](https://docs.github.com/en/rest)
- [Anthropic Claude API Documentation](https://docs.anthropic.com/)
- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [Supabase Documentation](https://supabase.com/docs)
- [httpx Documentation](https://www.python-httpx.org/)
- [selectolax Documentation](https://selectolax.readthedocs.io/)

---

**Document Version**: 1.0
**Last Updated**: 2025-10-06
**Maintained by**: GitHub Trend Auto Blog Team
